!function(V,D,o){"use strict";var Q=ht.LiveNode=function(){Q.superClass.constructor.apply(this)};ht.Default.def("ht.LiveNode",ht.Node,{_width:100,_height:35,_image:null,_enabled:!0,_editable:!0,_hover:!1,_pressed:!1,isEnabled:function(){return this._enabled},setEnabled:function(N){var v=this._enabled;this._enabled=N,this.fp("enabled",v,N)},isEditable:function(){return this._enabled},setEditable:function(J){var x=this._editable;this._editable=J,this.fp("editable",x,J)},isHover:function(){return this._hover},setHover:function(Y){var e=this._hover;this._hover=Y,this.fp("hover",e,Y)},isPressed:function(){return this._pressed},setPressed:function(N){var k=this._pressed;this._pressed=N,this.fp("pressed",k,N)},getBackground:function(){var z,E,D=this;return z=D._enabled?D._pressed?"live.background.active":D._hover?"live.background.hover":"live.background":"live.background.disabled",E=D.s(z),E?E:D.s("live.background")},getForeground:function(){var C,L,T=this;return C=T._enabled?T._pressed?"live.label.active":T._hover?"live.label.hover":"live.label.color":"live.label.disabled",L=T.s(C),L?L:T.s("live.label.color")},setRotation:null,getUIClass:function(){return ht.graph.LiveNodeUI}});var l=ht.graph.LiveNodeUI=function(){l.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.LiveNodeUI",ht.Default.getInternal().ui().NodeUI,{freeDraw:function(e,M){var I=this,O=I._data,Y=ht.Default.getImage(O._image);ht.Default.drawImage(e,Y,M.x,M.y,M.width,M.height,O,I.gv)},onKeyDown:function(I){var s=this,t=s._data;return 32===I.keyCode||13===I.keyCode?(t.setPressed(!0),!0):void 0},onKeyUp:function(z){var O=this._data;(32===z.keyCode||13===z.keyCode)&&(O.setPressed(!1),O.onClicked&&O.onClicked(z))},onMouseOver:function(){this._data.setHover(!0)},onMouseOut:function(){this._data.setHover(!1)},onMouseDown:function(){this._data.setPressed(!0)},onMouseMove:function(){},onMouseUp:function(W){var Q=this._data;Q.setPressed(!1),Q.onClicked&&Q.onClicked(W)}});var w=ht.ButtonNode=function(){w.superClass.constructor.apply(this)};ht.Default.def("ht.ButtonNode",ht.LiveNode,{_image:"button_image"}),ht.Default.setImage("button_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},gradient:{func:"style@live.gradient"},gradientColor:{func:"style@live.gradient.color"},background:{func:"getBackground"},rect:[0,0,1,1],relative:!0},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getForeground"},font:{func:"style@live.label.font"},rect:[0,0,1,1],relative:!0,offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var C=ht.ToggleButtonNode=function(){C.superClass.constructor.apply(this)};ht.Default.def("ht.ToggleButtonNode",ht.ButtonNode,{_selected:!1,getUIClass:function(){return ht.graph.ToggleButtonNodeUI},getBackground:function(){var Q,u,D=this;return D._enabled?(D._hover&&(Q="live.background.hover"),D.s(Q)||(Q=D._selected?"live.background.active":"live.background")):Q="live.background.disabled",u=D.s(Q),u?u:D.s("live.background")},getForeground:function(){var A,Z,u=this;return u._enabled?(u._hover&&(A="live.label.hover"),u.s(A)||(A=u._selected?"live.label.active":"live.label.color")):A="live.label.disabled",Z=u.s(A),Z?Z:u.s("live.label.color")},isSelected:function(){return this._selected},setSelected:function(z){var J=this,X=J._selected,w=J._buttonGroup;J._selected=z,J.fp("selected",X,z)&&(w&&z&&w._selected!==J&&(w._selected&&w._selected.setSelected(!1),w._selected=J,w.onChanged(J)),J.onChanged(z))},onChanged:function(){}});var H=ht.graph.ToggleButtonNodeUI=function(){H.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.ToggleButtonNodeUI",ht.graph.LiveNodeUI,{rectIntersects:function(){return!0},onKeyDown:function(y){var d=this;return H.superClass.onKeyDown.call(d,y)?(d.toggleSelect(),!0):void 0},onMouseDown:function(z){var T=this;H.superClass.onMouseDown.call(T,z),T.toggleSelect()},toggleSelect:function(){var X=this,E=X._data;E._buttonGroup?E._selected||E.setSelected(!0):E.setSelected(!E._selected),E.setHover(!1)}});var c=ht.CheckboxNode=function(){var f=this;c.superClass.constructor.apply(f),f.s("live.label.align","left"),f.s("live.background",ht.Color.widgetIconBackground),f.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.CheckboxNode",ht.ToggleButtonNode,{_image:"checkbox_image",getBackground:function(){var x,F=this;return x=F._enabled?F._selected?"live.background.active":"live.background":"live.background.disabled",F.s(x)},getForeground:function(){var x,F=this;return x=F._enabled?F._selected?"live.background.active":"live.background":"live.background.disabled",F.s(x)}}),ht.Default.setImage("checkbox_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},background:{func:"getBackground"},rect:{func:function(A){var X=(A._width,A._height);return{x:.1*X,y:.2*X,width:.6*X,height:.6*X}}}},{type:"shape",points:{func:function(E){var u=(E._width,E._height);return[.3*u,.5*u,.4*u,.6*u,.55*u,.35*u]}},borderWidth:{func:function(S){return.05*S._height}},borderColor:"#FFFFFF",visible:{func:function($){return $._selected||$._hover}}},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getForeground"},font:{func:"style@live.label.font"},rect:{func:function(w){var R=w._width,h=w._height;return{x:.8*h,y:0,width:R-.8*h,height:h}}},offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var M=ht.RadioButtonNode=function(){var p=this;M.superClass.constructor.apply(p),p.s("live.label.align","left"),p.s("live.background",ht.Color.widgetIconBackground),p.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.RadioButtonNode",ht.ToggleButtonNode,{_image:"radioButton_image",getUIClass:function(){return ht.graph.RadioButtonNodeUI},getBackground:function(){var R,W=this;return R=W._enabled?W._selected?"live.background.active":"live.background":"live.background.disabled",W.s(R)},getForeground:function(){var D,Y=this;return D=Y._enabled?Y._selected?"live.background.active":"live.background":"live.background.disabled",Y.s(D)}}),ht.Default.setImage("radioButton_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:"circle",borderWidth:{func:function(g){return.1*g._height}},borderColor:{func:"getBackground"},rect:{func:function(M){var t=(M._width,M._height);return{x:.1*t,y:.2*t,width:.6*t,height:.6*t}}}},{type:"circle",background:{func:"getBackground"},rect:{func:function(T){var h=(T._width,T._height);return{x:.3*h,y:.4*h,width:.2*h,height:.2*h}}},visible:{func:function(e){return e._selected||e._hover}}},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getBackground"},font:{func:"style@live.label.font"},rect:{func:function(V){var u=V._width,J=V._height;return{x:.8*J,y:0,width:u-.8*J,height:J}}},offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var r=ht.graph.RadioButtonNodeUI=function(){r.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.RadioButtonNodeUI",ht.graph.ToggleButtonNodeUI,{toggleSelect:function(){this._data._selected||this._data.setSelected(!0)}});var e=ht.SwitchNode=function(){var W=this;e.superClass.constructor.apply(W),W.s("live.background",ht.Color.widgetIconBackground),W.s("live.background.active",ht.Color.widgetIconHighlight),W.s("live.label.color",ht.Color.widgetIconBackground),W.s("live.label.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.SwitchNode",ht.ToggleButtonNode,{_image:"switch_image",getBackground:function(){return this.s(this._selected?"live.background.active":"live.background")},getForeground:function(){return this.s(this._selected?"live.label.active":"live.label.color")}}),ht.Default.setImage("switch_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},background:{func:"style@switch.background"},opacity:{func:function(k){return k._enabled?1:.5}},rect:[0,0,1,1],relative:!0},{type:"circle",background:{func:"getBackground"},opacity:{func:function(a){return a._enabled?1:.5}},rect:{func:function(G){var l=30,X=10,H=G._selected;return{x:H?G._width-X-l:X,y:(G._height-l)/2,width:l,height:l}}}},{type:"text",text:{func:function(J){return J.s(J._selected?"switch.text.on":"switch.text.off")}},rect:[17,1,1],relative:!0,offsetX:{func:function(b){return b._selected?-10:10}},color:{func:"getForeground"},font:{func:"style@live.label.font"},align:{func:"style@live.label.align"}}]});var Z=ht.ComboboxNode=function(){var V=this;Z.superClass.constructor.apply(V),V.s("live.label.align","left")};ht.Default.def("ht.ComboboxNode",ht.LiveNode,{_image:"combobox_image",_buttonWidth:20,_maxHeight:200,_selectedIndex:-1,getUIClass:function(){return ht.graph.ComboboxNodeUI},getItems:function(){return this._items},setItems:function(l){var A=this._items;this._items=l,this.fp("items",A,l)},getSelectedItem:function(){return this._selectedItem},setSelectedItem:function(X){var U,s=this,Q=s._items,S=s._selectedItem;!Q||(U=Q.indexOf(X))<0||(s._selectedItem=X,s._selectedIndex=U,s.s("live.label",X?s.getItemName(X):""),s.fp("selectedItem",S,X)&&s.onChanged(X))},getSelectedIndex:function(){return this._selectedIndex},setSelectedIndex:function(b){var U=this,y=U._items;!y||0>b||b>=y.length||(U._selectedIndex=b,U.setSelectedItem(y[b]))},getItemName:function(h){return h.label||h},onChanged:function(){}}),ht.Default.setImage("combobox_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},gradient:{func:"style@live.gradient"},gradientColor:{func:"style@live.gradient.color"},background:{func:"getBackground"},rect:[0,0,1,1],relative:!0},{type:"shape",points:{func:function(u){var e=u._buttonWidth,c=u._width,_=u._height;return[c-e+.5*e,.6*_,c-e+.75*e,.4*_,c-e+.25*e,.4*_]}},background:{func:function(M){return M._pressed?"#000000":"#FFFFFF"}}},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getForeground"},font:{func:"style@live.label.font"},rect:[0,0,1,1],relative:!0,offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var S=ht.graph.ComboboxNodeUI=function(){S.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.ComboboxNodeUI",ht.graph.LiveNodeUI,{rectIntersects:function(){return!0},onKeyDown:function(e){var J,q=this._data,r=0;return(37===e.keyCode||38===e.keyCode)&&(r=-1),(39===e.keyCode||40===e.keyCode)&&(r=1),r?(q._selectedIndex>=0?J=q._selectedIndex+r:q._items&&q._items.length>0&&(J=1===r?0:q.items.length-1),q.setSelectedIndex(J),this._ignore=!0,!0):27===e.keyCode||13===e.keyCode?(this._hidePopup(),!0):void 0},onMouseMove:function(){this._data._pressed&&(this._moved=!0)},onMouseUp:function(N){var u=this;S.superClass.onMouseUp.call(u,N),u._moved||(u._list?u._hidePopup():u._showPopup()),delete u._moved},draw:function(e){if(S.superClass.draw.call(this,e),this._list&&this._data._selectedIndex>=0){var H=this._list.getDataModel().getDatas().get(this._data._selectedIndex);this._list.sm().ld()!==H&&this._list.sm().setSelection(H)}},_showPopup:function(){var Q,L,T,e,v,O,z,y,c,w,x=this,V=x._data,q=V._items,G=x.gv._view.getBoundingClientRect(),p=(V._position.x-V._width/2)*x.gv._zoom+x.gv.tx()+G.left-x.gv._view.scrollLeft,k=(V._position.y+V._height/2)*x.gv._zoom+x.gv.ty()+G.top-x.gv._view.scrollTop;if(q&&0!==q.length){for(Q=new ht.DataModel,L=this._list=new ht.widget.ListView(Q),L.getIcon=function(){return null},L.drawRow=function(B,m,J,A,o,P,H){L._focusData===m&&(B.fillStyle=ht.Default.darker(m.s("live.background")),B.beginPath(),B.rect(A,o,P,H),B.fill()),ht.widget.ListView.prototype.drawRow.apply(L,arguments)},T=0;T<q.length;T++)e=new ht.Data,e.setName(V.getItemName(q[T])),e._index=T,Q.add(e),V._selectedIndex===T&&L.sm().setSelection(e);L.onSelectionChanged=function(){var W=L.sm().ld();W&&!x._ignore&&(V.setSelectedIndex(W._index),x._hidePopup(),delete x._ignore)},L.getSelectBackground=function(b){var P=b.s("live.background");return b===L._focusData?ht.Default.darker(P):P},L.getView().addEventListener("mousemove",function(R){L.setFocusData(L.getDataAt(R)),L.invalidateModel()}),y=ht.Default.getWindowInfo(),O=V._width,z=Math.min(L.getRowHeight()*q.length,V._maxHeight,y.height),c=y.width-O-10,w=y.height-z-10,p=p>c?c:p,k=k>w?w:k,p=0>p?0:p,k=0>k?0:k,v=L.getView().style,v.left=p+y.left+"px",v.top=k+y.top+"px",v.width=O+"px",v.height=z+"px",v.zIndex=1e4,v.background="white",v.borderWidth="1px",v.borderColor="#DDDDE0",v.borderStyle="solid",v.borderRadius="5px",document.body.appendChild(L.getView()),Y(function(){x._hidePopup()})}},_hidePopup:function(){this._list&&(document.body.removeChild(this._list.getView()),delete this._list)}});var F=ht.ProgressBarNode=function(){var B=this;F.superClass.constructor.apply(B),B.s("label.position",17),B.s("live.background",ht.Color.widgetIconBackground),B.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.ProgressBarNode",ht.LiveNode,{_image:"progressBar_image",_value:0,getValue:function(){return this._value},setValue:function(h){var X=this._value;this._value=h,this.fp("value",X,h)},getName:function(){return this._value+"%"}}),ht.Default.setImage("progressBar_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:"rect",background:{func:"style@live.background"},rect:[0,0,1,1],relative:!0},{type:"rect",background:{func:"style@live.background.active"},rect:{func:function(z){return[0,0,z._value/100,.5]}},relative:!0},{type:"rect",background:{func:function(y){return ht.Default.darker(y.s("live.background.active"))}},rect:{func:function(V){return[0,.5,V._value/100,.5]}},relative:!0}]});var f=ht.SliderNode=function(){var U=this;f.superClass.constructor.apply(U),U.s("label.position",17),U.s("live.background",ht.Color.widgetIconBackground),U.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.SliderNode",ht.LiveNode,{_image:"slider_image",_orientation:"horizontal",_value:0,_min:0,_max:100,_step:1,getUIClass:function(){return ht.graph.SliderNodeUI},getOrientation:function(){return this._orientation},setOrientation:function(w){var k=this._orientation;this._orientation=w,this.fp("orientation",k,w)},isHorizontal:function(){var z=this._orientation;return"h"===z||"horizontal"===z},getValue:function(){return this._value},setValue:function(f){var o=this,S=o._min,B=o._max,V=o._step;S>f&&(f=S),f>B&&(f=B),f=Math.floor(f/V)*V;var D=o._value;o._value=f,o.fp("value",D,f)&&o.onChanged(f)},getMin:function(){return this._min},setMin:function(S){var u=this._min;this._min=S,this.fp("min",u,S),this.setValue(this._value)},getMax:function(){return this._max},setMax:function(K){var t=this._max;this._max=K,this.fp("max",t,K),this.setValue(this._value)},getStep:function(){return this._step},setStep:function(m){var N=this._step;this._step=m,this.fp("step",N,m),this.setValue(this._value)},getName:function(){return this._value+""},onChanged:function(){}}),ht.Default.setImage("slider_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:"rect",background:{func:"style@live.background.active"},rect:{func:function(n){var $=n.s("slider.bar.size"),w=n.s("slider.thumb.size")+n.s("live.border.width"),X=n._value/(n._max-n._min),s=n.isHorizontal(),M=n._width,l=n._height;return{x:s?w:(M-$)/2,y:s?(l-$)/2:l-w-(l-2*w)*X,width:s?(M-2*w)*X:$,height:s?$:(l-2*w)*X}}}},{type:"rect",background:{func:"style@live.background"},rect:{func:function(w){var h=w.s("slider.bar.size"),f=w.s("slider.thumb.size")+w.s("live.border.width"),q=w._value/(w._max-w._min),a=w.isHorizontal(),d=w._width,o=w._height;return{x:a?f+(d-2*f)*q:(d-h)/2,y:a?(o-h)/2:f,width:a?(d-2*f)*(1-q):h,height:a?h:(o-2*f)*(1-q)}}}},{type:"circle",borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},background:{func:"style@slider.thumb.background"},rect:{func:function(P){var Q=P.s("slider.thumb.size"),V=P._value/(P._max-P._min),O=P.isHorizontal(),J=P._width,C=P._height;return{x:O?V*(J-2*Q):J/2-Q,y:O?C/2-Q:(1-V)*(C-2*Q),width:2*Q,height:2*Q}}}}]});var k=ht.graph.SliderNodeUI=function(){k.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.SliderNodeUI",ht.graph.LiveNodeUI,{rectIntersects:function(){return!0},onKeyDown:function(k){var J=this._data,O=J.isHorizontal(),z=0;return(O&&37===k.keyCode||!O&&40===k.keyCode)&&(z=-1),(O&&39===k.keyCode||!O&&38===k.keyCode)&&(z=1),z?(J.setValue(J._value+J._step*z),!0):void 0},onMouseDown:function(C){var T=this,r=T._data,y=ht.Default.getClientPoint(C);T._start=r.isHorizontal()?y.x:y.y,T._startValue=r._value},onDrag:function($){var Y=this;if(Y._start===o)return!1;var Z=Y._data,S=Z.isHorizontal(),c=Z._step,N=ht.Default.getClientPoint($),W=S?N.x:N.y,i=Z.s("slider.thumb.size")+Z.s("live.border.width"),k=S?Z._width:Z._height-2*i,Q=(W-Y._start)*(S?1:-1),z=(Z._max-Z._min)*Q/k/Y.gv._zoom;return Z.setValue(Y._startValue+Math.floor(z/c)*c),!0},onMouseUp:function(){delete this._start,delete this._startValue}});var P=ht.SpinnerNode=function(){P.superClass.constructor.apply(this),this._styleMap={},this._styleMap["label.position"]=16};ht.Default.def("ht.SpinnerNode",ht.LiveNode,{_image:"spinner_image",_value:0,_min:0,_max:100,_step:1,getUIClass:function(){return ht.graph.SpinnerNodeUI},getValue:function(){return this._value},setValue:function(q){q<this._min&&(q=this._min),q>this._max&&(q=this._max),q=Math.floor(q/this._step)*this._step;var G=this._value;this._value=q,this.fp("value",G,q)&&this.onChanged(q)},getMin:function(){return this._min},setMin:function(k){var H=this._min;this._min=k,this.fp("min",H,k),this.setValue(this._value)},getMax:function(){return this._max},setMax:function(S){var G=this._max;this._max=S,this.fp("max",G,S),this.setValue(this._value)},getStep:function(){return this._step},setStep:function(_){var Y=this._step;this._step=_,this.fp("step",Y,_),this.setValue(this._value)},getName:function(){return this._value+""},onChanged:function(){},getForeground:function(){return this.s(this._enabled?"live.label.active":"live.label.color")}}),ht.Default.setImage("spinner_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},gradient:{func:"style@live.gradient"},gradientColor:{func:"style@live.gradient.color"},background:{func:function($){return $.s($._enabled?"spinner.background":"live.background.disabled")}},rect:[0,0,1,1],relative:!0},{type:"rect",background:{func:function(D){var B;return B=D._topPressed?"live.background.active":D._topHover?"live.background.hover":"live.background",D.s(B)}},rect:{func:function(E){var w=E.s("spinner.button.width"),k=E.s("live.border.width");return{x:E._width-w,y:k,width:w-k,height:E._height/2-k}}}},{type:"shape",points:{func:function(C){var l=C.s("spinner.button.width"),N=C._width,a=C._height;return[N-l+.5*l,.15*a,N-l+.75*l,.4*a,N-l+.25*l,.4*a]}},background:{func:function(f){return f._topHover?"#000000":"#FFFFFF"}}},{type:"rect",background:{func:function(a){var N;return N=a._bottomPressed?"live.background.active":a._bottomHover?"live.background.hover":"live.background",a.s(N)}},rect:{func:function(p){var F=p.s("spinner.button.width"),Q=p.s("live.border.width"),X=p._width,i=p._height;return{x:X-F,y:i/2,width:F-Q,height:i/2-Q}}}},{type:"shape",points:{func:function(_){var G=_.s("spinner.button.width"),p=_._width,f=_._height;return[p-G+.5*G,.9*f,p-G+.75*G,.65*f,p-G+.25*G,.65*f]}},background:{func:function(T){return T._bottomHover?"#000000":"#FFFFFF"}}}]});var O=ht.graph.SpinnerNodeUI=function(){O.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.SpinnerNodeUI",ht.graph.LiveNodeUI,{_refresh:function(J){var k=this._data,B=k.s("spinner.button.width"),N=this.gv.getLogicalPoint(J),Y={x:k._position.x+k._width/2-B,y:k._position.y-k._height/2,width:B,height:k._height/2},h={x:k._position.x+k._width/2-B,y:k._position.y,width:B,height:k._height/2};k._topHover=ht.Default.containsPoint(Y,N),k._bottomHover=ht.Default.containsPoint(h,N)},onKeyDown:function(b){var D=this._data,o=0;return 38===b.keyCode&&(o=1),40===b.keyCode&&(o=-1),o?(D.setValue(D._value+D._step*o),!0):void 0},onMouseOut:function(){var m=this._data;m._topHover=!1,m._bottomHover=!1,this.gv.invalidateData(m)},onMouseDown:function(I){var z=this,w=z._data,e=0;z._refresh(I),w._topPressed=w._topHover,w._bottomPressed=w._bottomHover,w._topPressed&&(e=1),w._bottomPressed&&(e=-1),e&&(w.setValue(w._value+w._step*e),z._timer&&clearTimeout(z._timer),z._interval&&clearInterval(z._interval),z._timer=setTimeout(function(){z._interval=setInterval(function(){w.setValue(w._value+w._step*e)},100)},1e3))},onMouseMove:function(V){this._refresh(V),this.gv.invalidateData(this._data)},onMouseUp:function(){var f=this,N=f._data;N._topHover=!1,N._bottomHover=!1,N._topPressed=!1,N._bottomPressed=!1,f.gv.invalidateData(N),f._timer&&(clearTimeout(f._timer),delete f._timer),f._interval&&(clearInterval(f._interval),delete f._interval)}}),ht.ButtonGroup=function(K){var N=this;N._items=new ht.List,N.addAll(K)},ht.Default.def("ht.ButtonGroup",D,{add:function(F){var c=this;c._items.contains(F)||(c._items.add(F),F._buttonGroup=c,c._selected&&F._selected&&c._selected.setSelected(!1),F._selected&&(c._selected=F))},addAll:function(d){d&&new ht.List(d).each(self.add,self)},remove:function(I){var N=this;N._items.contains(I)&&(N._items.remove(I),delete I._buttonGroup,N._selected===I&&delete N._selected)},getItems:function(){return this._items},clear:function(){var m=this;m._items.each(m.remove,m)},getSelected:function(){return this._selected},onChanged:function(){}});var v=ht.Style,s=ht.Color,z=s.widgetBackground,K=s.widgetIconHighlight,d=ht.Default.labelSelectColor;v["live.shape"]="rect",v["live.border.width"]=1,v["live.border.color"]=s.widgetBorder,v["live.gradient"]="",v["live.gradient.color"]="#FFF",v["live.background"]=K,v["live.background.disabled"]=z,v["live.background.hover"]=ht.Default.brighter(K),v["live.background.active"]=ht.Default.darker(K),v["live.label"]="",v["live.label.offset.x"]=0,v["live.label.offset.y"]=0,v["live.label.align"]="center",v["live.label.font"]=o,v["live.label.color"]=d,v["live.label.disabled"]=s.widgetIconBackground,v["live.label.hover"]=d,v["live.label.active"]=d,v["switch.background"]=z,v["switch.text.on"]="ON",v["switch.text.off"]="OFF",v["slider.bar.size"]=6,v["slider.thumb.size"]=8,v["slider.thumb.background"]=K,v["spinner.background"]="#FFFFFF",v["spinner.button.width"]=20;var y=ht.graph.GraphView.prototype;y.getFocusData=function(){return this._focusData},y.handleKeyUp=function(j){var M=this._focusData,R=M&&this._uiMap[M._id];M&&M._enabled&&M._editable&&R&&R.onKeyUp&&R.onKeyUp(j)},y.handleMouseDown=function(O,Z){this._focusData=Z;var g=Z&&this._uiMap[Z._id];Z&&Z._enabled&&Z._editable&&g&&g.onMouseDown&&g.onMouseDown(O)},y.handleMouseUp=function(S,F){var l=F&&this._uiMap[F._id];F&&F._enabled&&F._editable&&l&&l.onMouseUp&&l.onMouseUp(S)},y.handleMouseMove=function(U){var e=this._lastHoverData,y=e&&this._uiMap[e._id],F=this.getDataAt(U),W=F&&this._uiMap[F._id];e&&y&&e._enabled&&e._editable&&(e===F?y.onMouseMove&&y.onMouseMove(U):y.onMouseOut&&y.onMouseOut(U)),F&&e!==F&&F._enabled&&F._editable&&W&&W.onMouseOver&&W.onMouseOver(U),this._lastHoverData=F},y.checkLiveDrag=function(Q,k){var n=k&&this._uiMap[k._id];return k&&k._enabled&&k._editable&&n&&n.onDrag&&n.onDrag(Q)},y=ht.graph.DefaultInteractor.prototype,y.handle_keyup=function(L){this.gv.handleKeyUp&&this.gv.handleKeyUp(L)},y.handle_mousemove=function(A){this.gv.handleMouseMove&&this.gv.handleMouseMove(A)};var A=new ht.List,Y=function(x){setTimeout(function(){A.add(x)},0)};V.addEventListener(ht.Default.isTouchable?"touchend":"mouseup",function(){A.size()>0&&setTimeout(function(){A.each(function(H){H()}),A.clear()},0)})}(this,Object);